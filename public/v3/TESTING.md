# Web Dashboard V3 测试指南

## 测试环境

- **项目路径**: C:\Users\666\.claude\hooks\scripts\claude-pulse\
- **访问地址**: http://localhost:3000/v3/
- **原版地址**: http://localhost:3000/

## 功能测试清单

### 1. 基础功能测试

#### 1.1 页面加载
- [ ] 访问 http://localhost:3000/v3/ 页面正常加载
- [ ] 所有 CDN 资源加载成功（TailwindCSS, Chart.js, ECharts, GridStack）
- [ ] 无 JavaScript 错误

#### 1.2 WebSocket 连接
- [ ] 连接状态显示"已连接"（绿色）
- [ ] 实时接收数据更新
- [ ] 断线后自动重连

### 2. 布局功能测试

#### 2.1 GridStack 拖拽
- [ ] 可以拖拽卡片调整位置
- [ ] 可以调整卡片大小
- [ ] 布局自动保存到 localStorage
- [ ] 刷新页面后布局保持

#### 2.2 响应式设计
- [ ] 在桌面端正常显示
- [ ] 在移动端自动调整布局
- [ ] 不同屏幕尺寸下都能正常使用

### 3. 图表功能测试

#### 3.1 Chart.js 图表
- [ ] 活动趋势图（折线图）正常显示
- [ ] 消息统计图（柱状图）正常显示
- [ ] 图表数据实时更新
- [ ] 图表交互功能正常（hover, tooltip）

#### 3.2 ECharts 图表
- [ ] 饼图正常显示
- [ ] 雷达图正常显示
- [ ] 图表动画效果流畅
- [ ] 图表交互功能正常

### 4. PWA 功能测试

#### 4.1 Service Worker
- [ ] Service Worker 注册成功
- [ ] 离线缓存功能正常
- [ ] 刷新页面时使用缓存

#### 4.2 安装功能
- [ ] 浏览器显示"安装"提示
- [ ] 可以安装为桌面应用
- [ ] 安装后可以独立运行

### 5. 通知功能测试

#### 5.1 浏览器通知
- [ ] 首次访问请求通知权限
- [ ] 允许通知后可以接收推送
- [ ] 新会话开始时显示通知
- [ ] 错误发生时显示通知

#### 5.2 应用内通知
- [ ] 通知显示在右上角
- [ ] 通知自动消失（3秒）
- [ ] 可以手动关闭通知
- [ ] 通知样式正确（success, error, info）

### 6. 主题功能测试

#### 6.1 主题切换
- [ ] 点击主题按钮切换 Light/Dark
- [ ] 主题保存到 localStorage
- [ ] 刷新页面后主题保持
- [ ] 所有组件主题一致

#### 6.2 图表主题
- [ ] Chart.js 图表跟随主题变化
- [ ] ECharts 图表跟随主题变化
- [ ] 主题切换流畅无闪烁

### 7. 搜索和过滤测试

#### 7.1 会话搜索
- [ ] 输入关键词实时过滤会话
- [ ] 搜索结果正确
- [ ] 清空搜索框恢复所有会话

#### 7.2 高级搜索（待实现）
- [ ] 点击搜索按钮显示模态框
- [ ] 日期范围筛选
- [ ] 排序功能

### 8. 数据显示测试

#### 8.1 状态卡片
- [ ] 活跃会话数正确
- [ ] 今日消息数正确
- [ ] 错误数量正确
- [ ] 运行时间正确

#### 8.2 会话列表
- [ ] 显示所有活跃会话
- [ ] 会话信息完整（主题、时长、消息数、错误数）
- [ ] 会话状态正确（活跃/已结束）

#### 8.3 系统信息
- [ ] 主机名显示正确
- [ ] 平台信息正确
- [ ] 内存使用正确

#### 8.4 日志显示
- [ ] 显示最近日志
- [ ] 日志颜色正确（ERROR红色, WARN黄色, INFO蓝色）
- [ ] 日志滚动正常

### 9. 性能测试

#### 9.1 加载性能
- [ ] 首次加载时间 < 3秒
- [ ] 资源加载优化
- [ ] 无不必要的网络请求

#### 9.2 运行性能
- [ ] 页面流畅无卡顿
- [ ] 内存使用合理
- [ ] CPU 使用正常

### 10. 兼容性测试

#### 10.1 浏览器兼容性
- [ ] Chrome 90+ 正常运行
- [ ] Firefox 88+ 正常运行
- [ ] Safari 14+ 正常运行
- [ ] Edge 90+ 正常运行

#### 10.2 设备兼容性
- [ ] 桌面端（1920x1080）
- [ ] 笔记本（1366x768）
- [ ] 平板（768x1024）
- [ ] 手机（375x667）

## 已知问题

1. **图标文件**: 当前使用占位文件，需要替换为真实的 PNG 图标
2. **用户认证**: 尚未实现，计划在 Phase 2 完成
3. **数据导出**: 尚未实现，计划在 Phase 2 完成
4. **高级搜索**: 基础功能已实现，高级功能待完善

## 测试结果

### 测试日期: 2026-02-09

#### 通过的测试
- [x] 页面加载
- [x] GridStack 拖拽布局
- [x] Chart.js 图表
- [x] ECharts 图表
- [x] PWA 基础功能
- [x] 主题切换
- [x] 会话搜索

#### 待测试
- [ ] Service Worker 离线功能（需要 HTTPS 或实际部署）
- [ ] 浏览器通知（需要用户授权）
- [ ] PWA 安装（需要 HTTPS 或实际部署）

#### 发现的问题
- 无

## 下一步计划

1. 实现用户认证系统
2. 实现数据导出功能（CSV, JSON, PDF）
3. 完善高级搜索功能
4. 添加更多布局预设
5. 优化移动端体验
6. 添加数据分析和报表功能

## 反馈

如有问题或建议，请在项目中提交 Issue。
